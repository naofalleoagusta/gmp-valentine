<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gizella, Be My Valentine? üíù</title>
    <style>
      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: linear-gradient(45deg, #ffe6ea, #ffb6c1);
        font-family: "Arial", sans-serif;
        overflow: hidden;
      }

      .container {
        text-align: center;
        z-index: 1;
        padding: 20px;
        max-width: 100vw;
        display: none;
      }

      .hearts-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
      }

      .heart {
        position: absolute;
        width: 20vmin; /* Responsive to viewport's smaller dimension */
        height: 20vmin;
        max-width: 150px;
        max-height: 150px;
        opacity: 0.3;
        /* Updated heart shape that uses more of the image space */
        mask-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 90C50 90 87 62 87 35C87 19 74 10 61 10C54 10 50 15 50 15C50 15 46 10 39 10C26 10 13 19 13 35C13 62 50 90 50 90Z' fill='black'/%3E%3C/svg%3E");
        mask-size: contain;
        mask-repeat: no-repeat;
        mask-position: center;
        -webkit-mask-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 90C50 90 87 62 87 35C87 19 74 10 61 10C54 10 50 15 50 15C50 15 46 10 39 10C26 10 13 19 13 35C13 62 50 90 50 90Z' fill='black'/%3E%3C/svg%3E");
        -webkit-mask-size: contain;
        -webkit-mask-repeat: no-repeat;
        -webkit-mask-position: center;
      }

      /* Style for the background image inside heart */
      .heart-bg {
        width: 100%;
        height: 100%;
        background: url("assets/bby.jpeg") center/cover;
        transform: scale(
          1.2
        ); /* Slightly larger to ensure heart shape is filled */
      }

      /* Heart positions */
      .heart-1 {
        left: 2%;
        top: 1%;
      }
      .heart-2 {
        left: 25%;
        top: 14%;
      }
      .heart-3 {
        left: 45%;
        top: 3%;
      }
      .heart-4 {
        left: 65%;
        top: 10%;
      }
      .heart-5 {
        left: 85%;
        top: 20%;
      }

      .heart-6 {
        left: 1%;
        top: 34%;
      }
      .heart-7 {
        left: 35%;
        top: 40%;
      }
      .heart-8 {
        left: 55%;
        top: 50%;
      }
      .heart-9 {
        left: 66%;
        top: 27%;
      }
      .heart-10 {
        left: 3%;
        top: 70%;
      }
      .heart-11 {
        left: 25%;
        top: 56%;
      }
      .heart-12 {
        left: 45%;
        top: 62%;
      }
      .heart-13 {
        left: 65%;
        top: 76%;
      }
      .heart-14 {
        left: 85%;
        top: 80%;
      }

      .heart-15 {
        left: 45%;
        top: 95%;
      }

      .button-container {
        margin-top: 20px;
        display: flex;
        gap: 20px;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }

      .btn {
        padding: 15px 30px;
        font-size: 16px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      #yesBtn {
        background-color: #ff6b9d;
        color: white;
      }

      #noBtn {
        background-color: #ff9eb5;
        color: white;
      }

      .success {
        display: none;
        text-align: center;
      }

      .success h1 {
        color: #ff6b9d;
        font-size: 48px;
        margin-bottom: 20px;
      }

      .cat-gif {
        width: min(300px, 80vw);
        height: 200px;
        background: url("/api/placeholder/300/200") center/cover;
        border-radius: 10px;
        margin: 20px auto;
      }

      @keyframes float {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-30px) rotate(8deg);
        }
        100% {
          transform: translateY(0) rotate(0deg);
        }
      }

      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .heart {
        animation: float 8s ease-in-out infinite;
      }

      .heart-bg {
        animation: heartbeat 4s ease-in-out infinite;
      }

      /* Staggered animation delays */
      .heart:nth-child(3n) {
        animation-delay: 0s;
      }
      .heart:nth-child(3n + 1) {
        animation-delay: 2s;
      }
      .heart:nth-child(3n + 2) {
        animation-delay: 4s;
      }

      h1 {
        font-size: 48px !important;
        margin-bottom: 20px;
        color: #ff6b9d;
      }

      .no-border {
        border: 0 !important;
      }

      .swal2-title {
        font-size: 30px !important;
      }
      .swal2-styled {
        font-size: 16px !important;
        padding: 16px 12px !important;
      }
    </style>
    <script
      rel="preload"
      src="https://cdn.jsdelivr.net/npm/sweetalert2@11"
    ></script>
    <link
      rel="preload"
      href="assets/gluesong.mp3"
      as="audio"
      type="audio/mpeg"
    />
  </head>
  <body>
    <audio class="song" loop>
      <source src="./assets/gluesong.mp3" />
      Your browser isn't invited for super fun audio time.
    </audio>
    <div class="hearts-bg" id="heartsBg">
      <div class="heart heart-1"><div class="heart-bg"></div></div>
      <div class="heart heart-2"><div class="heart-bg"></div></div>
      <div class="heart heart-3"><div class="heart-bg"></div></div>
      <div class="heart heart-4"><div class="heart-bg"></div></div>
      <div class="heart heart-5"><div class="heart-bg"></div></div>
      <div class="heart heart-6"><div class="heart-bg"></div></div>
      <div class="heart heart-7"><div class="heart-bg"></div></div>
      <div class="heart heart-8"><div class="heart-bg"></div></div>
      <div class="heart heart-9"><div class="heart-bg"></div></div>
      <div class="heart heart-10"><div class="heart-bg"></div></div>
      <div class="heart heart-11"><div class="heart-bg"></div></div>
      <div class="heart heart-12"><div class="heart-bg"></div></div>
      <div class="heart heart-13"><div class="heart-bg"></div></div>
      <div class="heart heart-14"><div class="heart-bg"></div></div>
      <div class="heart heart-15"><div class="heart-bg"></div></div>
    </div>

    <div class="container" id="questionContainer">
      <h1>Bby, will you be my Valentine? üíù</h1>

      <div class="button-container">
        <button id="yesBtn" class="btn">Yes</button>
        <button id="noBtn" class="btn">No</button>
      </div>
    </div>

    <div class="success" id="successContainer">
      <h1>Yay! ‚ù§Ô∏è</h1>
      <div class="cat-gif"></div>
    </div>

    <script>
      window.addEventListener("load", () => {
        Swal.fire({
          title: "bbyy, do you want to play music in the background?",
          iconHtml:
            '<img src="/assets/cat_shy.gif" style="width:100px;height:100px;">',
          customClass: {
            icon: "no-border",
          },
          showCancelButton: true,
          confirmButtonColor: "#3085d6",
          cancelButtonColor: "#3085d6",
          confirmButtonText: "Yes",
          cancelButtonText: "YESSSSS!!",
          allowOutsideClick: false,
        }).then((result) => {
          const questionContainer =
            document.getElementById("questionContainer");

          questionContainer.style.display = "block";
          if (result.isConfirmed) {
            document.querySelector(".song").play();
          } else {
            document.querySelector(".song").play();
          }
        });
      });
      const yesBtn = document.getElementById("yesBtn");
      const noBtn = document.getElementById("noBtn");
      const questionContainer = document.getElementById("questionContainer");
      const successContainer = document.getElementById("successContainer");

      let noClickCount = 0;
      let yesBtnSize = 18;

      const messages = [
        "Are you sure?",
        "Bbyy please :(",
        "Don't do this to me :(",
        "You are breaking my heart </3",
      ];

      noBtn.addEventListener("click", () => {
        if (noClickCount < messages.length) {
          noBtn.textContent = messages[noClickCount];
          yesBtnSize += 20;
          yesBtn.style.fontSize = yesBtnSize + "px";
          yesBtn.style.padding = yesBtnSize / 2 + "px " + yesBtnSize + "px";
          noClickCount++;
        } else {
          // Make Yes button fill the screen
          yesBtn.style.position = "fixed";
          yesBtn.style.width = "100vw";
          yesBtn.style.height = "100vh";
          yesBtn.style.fontSize = "72px";
          noBtn.style.display = "none";
          yesBtn.style.top = "0";
        }
      });

      yesBtn.addEventListener("click", () => {
        if (noClickCount < messages.length) {
          noBtn.textContent = messages[noClickCount];
          yesBtnSize += 10;
          yesBtn.style.fontSize = yesBtnSize + "px";
          yesBtn.style.padding = yesBtnSize / 2 + "px " + yesBtnSize + "px";
          noClickCount++;
        } else {
          questionContainer.style.display = "none";
          successContainer.style.display = "block";
        }
      });
      document.addEventListener("visibilitychange", () => {
        if (document.hidden) {
          document.querySelector(".song").pause(); // Pause when the page is inactive
        } else {
          document.querySelector(".song").play(); // Optionally resume when the page is active again
        }
      });
    </script>
  </body>
</html>
